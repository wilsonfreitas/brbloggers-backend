+++
title = "Como usar o R para escolher um lugar para morar(1) - Web Scraping e Data Cleaning"
date = "2016-11-18 03:00:00"
categories = ["paixao-por-dados"]
+++

<article class="blog-post"> <p>Imagine-se na seguinte situa&#xE7;&#xE3;o: voc&#xEA; foi convidado a se mudar para a cidade do Rio de Janeiro a trabalho e precisa procurar um lugar para morar. Pessoas normais resolveriam esse problema pesquisando pre&#xE7;os de apartamentos ou quartos para alugar em sites como OLX ou AirBNB. Mas como algu&#xE9;m fascinado em programa&#xE7;&#xE3;o e an&#xE1;lise resolveria?</p> <p>Nesta s&#xE9;rie de posts, mostro como o R pode ser usado tomar a decis&#xE3;o sobre escolher um apartamento ou quarto para alugar. No OLX, a formata&#xE7;&#xE3;o HTML das p&#xE1;ginas de apartamentos s&#xE3;o diferentes das de quartos. Neste post, eu mostro como fazer o web scraping, por meio do pacote <code class="highlighter-rouge">rvest</code>, apenas de apartamentos, mas o mesmo procedimento (com pequenas modifica&#xE7;&#xF5;es) pode ser feito tamb&#xE9;m para quartos.</p> <p>As bibliotecas usadas ser&#xE3;o:</p> <figure class="highlight"><pre><code class="language-r"><span class="n">library</span><span class="p">(</span><span class="n">magrittr</span><span class="p">)</span><span class="w"> </span><span class="c1"># n&#xE3;o vivo sem esse pacote
</span><span class="n">library</span><span class="p">(</span><span class="n">rvest</span><span class="p">)</span><span class="w"> </span><span class="c1"># principal pacote para web-scraping
</span><span class="n">library</span><span class="p">(</span><span class="n">readr</span><span class="p">)</span><span class="w"> </span><span class="c1"># usado para extrair numeros de texto
</span><span class="n">library</span><span class="p">(</span><span class="n">stringr</span><span class="p">)</span><span class="w"> </span><span class="c1"># usado para o data cleaning
</span><span class="n">library</span><span class="p">(</span><span class="n">curl</span><span class="p">)</span><span class="w"> </span><span class="c1"># usado como suporte para o rvest
</span><span class="n">library</span><span class="p">(</span><span class="n">tidyr</span><span class="p">)</span><span class="w"> </span><span class="c1"># data cleaning
</span><span class="n">library</span><span class="p">(</span><span class="n">dplyr</span><span class="p">)</span><span class="w"> </span><span class="c1"># data cleaning
</span><span class="n">devtools</span><span class="o">::</span><span class="n">source_gist</span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;aed28301b7088e47326feac136ceface&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;funcoes olx.R&quot;</span><span class="p">)</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">algumas</span><span class="w"> </span><span class="n">funcoes</span><span class="w"> </span><span class="n">que</span><span class="w"> </span><span class="n">criei</span><span class="w"> </span><span class="n">para</span><span class="w"> </span><span class="n">auxiliar</span><span class="w"> </span><span class="n">o</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">cleaning</span></code></pre></figure> <h2 id="web-scraping">Web scraping</h2> <p>A primeira etapa &#xE9; obter os dados. At&#xE9; a data de hoje (12 de Novembro de 2016), o <a href="http://rj.olx.com.br/rio-de-janeiro-e-regiao/imoveis/aluguel/apartamentos">OLX</a> listava um pouco mais de 12000 apartamentos para alugar, com 245 p&#xE1;ginas e 50 apartamentos em cada p&#xE1;gina.</p> <figure class="highlight"><pre><code class="language-r"><span class="n">url_apt</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s2">&quot;http://rj.olx.com.br/rio-de-janeiro-e-regiao/imoveis/aluguel/apartamentos&quot;</span><span class="w">
</span><span class="n">number_pages</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">245</span><span class="w"> </span><span class="c1">#hard coded
# Criar vetor com todos os urls para as p&#xE1;ginas do olx
</span><span class="n">lista_urls</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">paste0</span><span class="p">(</span><span class="n">url_apt</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;?o=&quot;</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="n">number_pages</span><span class="p">)</span></code></pre></figure> <p>A seguir, eu uso uma fun&#xE7;&#xE3;o para extrair as informa&#xE7;&#xF5;es importantes de cada an&#xFA;ncio, que s&#xE3;o: o link para o an&#xFA;ncio, o t&#xED;tulo, o pre&#xE7;o, o bairro e mais algumas informa&#xE7;&#xF5;es adicionais, como n&#xFA;mero de vagas de garagem e o valor da taxa de condom&#xED;nio. Explicar o passo-a-passo do web scraping e explicar como o c&#xF3;digo fonte das p&#xE1;ginas do OLX funciona est&#xE1; fora do escopo deste post, mas acredito que basta ler o c&#xF3;digo da fun&#xE7;&#xE3;o extrairAnuncios() para entender o que o script faz. Caso o leitor deseje saber mais sobre web scraping, o post 3 da s&#xE9;rie traz um tutorial de web scraping bem detalhado.</p> <figure class="highlight"><pre><code class="language-r"><span class="n">extrairAnuncios</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">url_pagina</span><span class="p">,</span><span class="w"> </span><span class="n">info_adicional</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">### INPUTS:
</span><span class="w"> </span><span class="c1"># url_pagina: url de uma pagina do olx com uma lista de links de an&#xFA;ncios.
</span><span class="w"> </span><span class="c1"># info_adicional: variavel booleana. se verdadeiro, faz o scraping de dados adicionais do anuncio
</span><span class="w"> </span><span class="c1"># ... deve ser usado apenas para apartamentos, pois a sintaxe do html para quartos &#xE9; diferente
</span><span class="w"> </span><span class="n">mycurl</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">curl</span><span class="p">(</span><span class="n">url_pagina</span><span class="p">,</span><span class="w"> </span><span class="n">handle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">curl</span><span class="o">::</span><span class="n">new_handle</span><span class="p">(</span><span class="s2">&quot;useragent&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Mozilla/5.0&quot;</span><span class="p">))</span><span class="w"> </span><span class="n">mycurl</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read_html</span><span class="p">(</span><span class="n">mycurl</span><span class="p">)</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">mycurl</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">html_nodes</span><span class="p">(</span><span class="s2">&quot;.OLXad-list-link&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1"># extrair link do anuncio
</span><span class="w"> </span><span class="n">col_links</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">mycurl</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">html_nodes</span><span class="p">(</span><span class="s2">&quot;.OLXad-list-link&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">html_attr</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1"># extrair titulo do anuncio
</span><span class="w"> </span><span class="n">col_titles</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">mycurl</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">html_nodes</span><span class="p">(</span><span class="s2">&quot;.OLXad-list-link&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">html_attr</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1"># extrair pre&#xE7;o
</span><span class="w"> </span><span class="n">precos</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">lapply</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">.</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">html_nodes</span><span class="p">(</span><span class="s2">&quot;.col-3&quot;</span><span class="p">))</span><span class="w"> </span><span class="n">precos</span><span class="w"> </span><span class="o">%&lt;&gt;%</span><span class="w"> </span><span class="n">lapply</span><span class="p">(</span><span class="n">html_text</span><span class="p">)</span><span class="w"> </span><span class="n">precos</span><span class="w"> </span><span class="o">%&lt;&gt;%</span><span class="w"> </span><span class="n">unlist</span><span class="p">()</span><span class="w"> </span><span class="n">precos</span><span class="w"> </span><span class="o">%&lt;&gt;%</span><span class="w"> </span><span class="n">limparString</span><span class="p">()</span><span class="w"> </span><span class="n">precos</span><span class="w"> </span><span class="o">%&lt;&gt;%</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">()</span><span class="w"> </span><span class="n">col_precos</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">precos</span><span class="w"> </span><span class="c1"># extrair bairros
</span><span class="w"> </span><span class="n">bairros</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">mycurl</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">html_nodes</span><span class="p">(</span><span class="s2">&quot;.OLXad-list-line-2&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">html_text</span><span class="p">()</span><span class="w"> </span><span class="n">bairros</span><span class="w"> </span><span class="o">%&lt;&gt;%</span><span class="w"> </span><span class="n">str_replace_all</span><span class="p">(</span><span class="s2">&quot;[\t]&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">bairros</span><span class="w"> </span><span class="o">%&lt;&gt;%</span><span class="w"> </span><span class="n">str_replace_all</span><span class="p">(</span><span class="s2">&quot;[\n]&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">bairros</span><span class="w"> </span><span class="o">%&lt;&gt;%</span><span class="w"> </span><span class="n">str_replace_all</span><span class="p">(</span><span class="s2">&quot;Apartamentos&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">bairros</span><span class="w"> </span><span class="o">%&lt;&gt;%</span><span class="w"> </span><span class="n">str_replace_all</span><span class="p">(</span><span class="s2">&quot;Aluguel de quartos&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">bairros</span><span class="w"> </span><span class="o">%&lt;&gt;%</span><span class="w"> </span><span class="n">str_replace_all</span><span class="p">(</span><span class="s2">&quot;An&#xFA;ncio Profissional&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">bairros</span><span class="w"> </span><span class="o">%&lt;&gt;%</span><span class="w"> </span><span class="n">str_replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">bairros</span><span class="w"> </span><span class="o">%&lt;&gt;%</span><span class="w"> </span><span class="n">str_trim</span><span class="p">()</span><span class="w"> </span><span class="n">col_bairros</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">bairros</span><span class="w"> </span><span class="c1"># extrair informa&#xE7;&#xF5;es adicionais de apartamento
</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">info_adicional</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">adicional</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">mycurl</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">html_nodes</span><span class="p">(</span><span class="s2">&quot;.mt5px&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">html_text</span><span class="p">()</span><span class="w"> </span><span class="n">adicional</span><span class="w"> </span><span class="o">%&lt;&gt;%</span><span class="w"> </span><span class="n">str_replace_all</span><span class="p">(</span><span class="s2">&quot;[\t]&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">adicional</span><span class="w"> </span><span class="o">%&lt;&gt;%</span><span class="w"> </span><span class="n">str_replace_all</span><span class="p">(</span><span class="s2">&quot;[\n]&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">col_adicionais</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">adicional</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="nf">return</span><span class="p">(</span><span class="n">data.frame</span><span class="p">(</span><span class="n">link</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">col_links</span><span class="p">,</span><span class="w"> </span><span class="n">titulo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">col_titles</span><span class="p">,</span><span class="w"> </span><span class="n">preco</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">col_precos</span><span class="p">,</span><span class="w"> </span><span class="n">bairro</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">col_bairros</span><span class="p">,</span><span class="w"> </span><span class="n">adicional</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">col_adicionais</span><span class="p">,</span><span class="w"> </span><span class="n">stringsAsFactors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">))</span><span class="w">
</span><span class="p">}</span></code></pre></figure> <p>Agora j&#xE1; podemos aplicar a fun&#xE7;&#xE3;o <code class="highlighter-rouge">extrairAnuncios()</code> no vetor da lista de urls para baixar os dados. Para fins de demonstra&#xE7;&#xE3;o, vou executar o procedimento apenas para a primeira p&#xE1;gina.</p> <figure class="highlight"><pre><code class="language-r"><span class="n">url_teste</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">lista_urls</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w">
</span><span class="n">system.time</span><span class="p">(</span><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">extrairAnuncios</span><span class="p">(</span><span class="n">url_teste</span><span class="p">,</span><span class="w"> </span><span class="n">info_adicional</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">))</span></code></pre></figure> <figure class="highlight"><pre><code class="language-text">## user system elapsed ## 0.948 0.064 1.013</code></pre></figure> <figure class="highlight"><pre><code class="language-r"><span class="c1"># Vamos dar uma olhada nos dados
</span><span class="n">head</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">knitr</span><span class="o">::</span><span class="n">kable</span><span class="p">()</span></code></pre></figure> <table> <thead> <tr> <th>link</th> <th>titulo</th> <th>preco</th> <th>bairro</th> <th>adicional</th> </tr> </thead> <tbody> <tr> <td>http://rj.olx.com.br/rio-de-janeiro-e-regiao/imoveis/village-pavuna-270991833</td> <td>Village pavuna</td> <td>400</td> <td>Rio de Janeiro, Pavuna</td> <td>1 quarto | 50 m&#xB2; | Condom&#xED;nio: R$ 250 | 1 vaga</td> </tr> <tr> <td>http://rj.olx.com.br/rio-de-janeiro-e-regiao/imoveis/excelente-apartamento-todo-reformado-na-freguesia-270535159</td> <td>Excelente apartamento todo reformado na Freguesia</td> <td>1500</td> <td>Rio de Janeiro, Freguesia</td> <td>1 quarto | 42 m&#xB2; | Condom&#xED;nio: R$ 390 | 1 vaga</td> </tr> <tr> <td>http://rj.olx.com.br/rio-de-janeiro-e-regiao/imoveis/excelente-apartamento-270991747</td> <td>Excelente Apartamento</td> <td>2000</td> <td>Rio de Janeiro, Recreio Dos Bandeirantes</td> <td>3 quartos | 82 m&#xB2; | Condom&#xED;nio: R$ 970 | 2 vagas</td> </tr> <tr> <td>http://rj.olx.com.br/rio-de-janeiro-e-regiao/imoveis/excelente-apartamento-270990414</td> <td>Excelente Apartamento</td> <td>1900</td> <td>Rio de Janeiro, Recreio Dos Bandeirantes</td> <td>2 quartos | 80 m&#xB2; | Condom&#xED;nio: R$ 300 | 2 vagas</td> </tr> <tr> <td>http://rj.olx.com.br/rio-de-janeiro-e-regiao/imoveis/barra-da-tijuca-cidade-jardim-empreendimento-reserva-do-parque-com-area-util-de-114-m-270988871</td> <td>Barra da Tijuca - Cidade Jardim, Empreendimento Reserva do Parque, com &#xE1;rea &#xFA;til de 114 m</td> <td>3500</td> <td>Rio de Janeiro, Jacarepagu&#xE1;</td> <td>3 quartos | 114 m&#xB2; | Condom&#xED;nio: R$ 1300 | 2 vagas</td> </tr> <tr> <td>http://rj.olx.com.br/rio-de-janeiro-e-regiao/imoveis/apartamento-copacabana-3-quartos-270989551</td> <td>Apartamento Copacabana, 3 quartos</td> <td>3300</td> <td>Rio de Janeiro, Copacabana</td> <td>3 quartos | 98 m&#xB2; | Condom&#xED;nio: R$ 979</td> </tr> </tbody>
</table> <h2 id="data-cleaning">Data Cleaning</h2> <p>Pode-se ver que o web scraping (ao menos para esses 5 exemplos) foi bem feito pois os os dados foram extra&#xED;dos adequadamente. Contudo, &#xE9; evidente a necessidade de se limpar os dados para poder os analisar. A coluna de informa&#xE7;&#xF5;es adicionais, por exemplo, informa dados de at&#xE9; quatro vari&#xE1;veis: quantidade de quartos, quantidade de vagas de garagem, &#xE1;rea e o pre&#xE7;o da taxa de condom&#xED;nio. Para deixar o processo de limpeza ainda mais dif&#xED;cil, nem todos os an&#xFA;ncios fornecem dados dessas quatro vari&#xE1;veis.</p> <p>Antes de partir para esse problema, vamos separa a coluna de bairro em duas: uma de cidade e outra de bairro. Removi os im&#xF3;veis que n&#xE3;o s&#xE3;o do Rio de Janeiro ou de Niter&#xF3;i para fins de simplicidade.</p> <figure class="highlight"><pre><code class="language-r"><span class="c1"># remover os que nao sao do RJ ou de niteroi
</span><span class="n">df</span><span class="w"> </span><span class="o">%&lt;&gt;%</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="n">str_detect</span><span class="p">(</span><span class="n">bairro</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Niter&#xF3;i&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">str_detect</span><span class="p">(</span><span class="n">bairro</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Rio de Janeiro&quot;</span><span class="p">))</span><span class="w">
</span><span class="n">df</span><span class="w"> </span><span class="o">%&lt;&gt;%</span><span class="w"> </span><span class="n">separate</span><span class="p">(</span><span class="n">bairro</span><span class="p">,</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">&quot;cidade&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;bairro&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">sep</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;,&quot;</span><span class="p">)</span><span class="w">
</span><span class="n">head</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">knitr</span><span class="o">::</span><span class="n">kable</span><span class="p">()</span></code></pre></figure> <table> <thead> <tr> <th>link</th> <th>titulo</th> <th>preco</th> <th>cidade</th> <th>bairro</th> <th>adicional</th> </tr> </thead> <tbody> <tr> <td>http://rj.olx.com.br/rio-de-janeiro-e-regiao/imoveis/village-pavuna-270991833</td> <td>Village pavuna</td> <td>400</td> <td>Rio de Janeiro</td> <td>Pavuna</td> <td>1 quarto | 50 m&#xB2; | Condom&#xED;nio: R$ 250 | 1 vaga</td> </tr> <tr> <td>http://rj.olx.com.br/rio-de-janeiro-e-regiao/imoveis/excelente-apartamento-todo-reformado-na-freguesia-270535159</td> <td>Excelente apartamento todo reformado na Freguesia</td> <td>1500</td> <td>Rio de Janeiro</td> <td>Freguesia</td> <td>1 quarto | 42 m&#xB2; | Condom&#xED;nio: R$ 390 | 1 vaga</td> </tr> <tr> <td>http://rj.olx.com.br/rio-de-janeiro-e-regiao/imoveis/excelente-apartamento-270991747</td> <td>Excelente Apartamento</td> <td>2000</td> <td>Rio de Janeiro</td> <td>Recreio Dos Bandeirantes</td> <td>3 quartos | 82 m&#xB2; | Condom&#xED;nio: R$ 970 | 2 vagas</td> </tr> <tr> <td>http://rj.olx.com.br/rio-de-janeiro-e-regiao/imoveis/excelente-apartamento-270990414</td> <td>Excelente Apartamento</td> <td>1900</td> <td>Rio de Janeiro</td> <td>Recreio Dos Bandeirantes</td> <td>2 quartos | 80 m&#xB2; | Condom&#xED;nio: R$ 300 | 2 vagas</td> </tr> <tr> <td>http://rj.olx.com.br/rio-de-janeiro-e-regiao/imoveis/barra-da-tijuca-cidade-jardim-empreendimento-reserva-do-parque-com-area-util-de-114-m-270988871</td> <td>Barra da Tijuca - Cidade Jardim, Empreendimento Reserva do Parque, com &#xE1;rea &#xFA;til de 114 m</td> <td>3500</td> <td>Rio de Janeiro</td> <td>Jacarepagu&#xE1;</td> <td>3 quartos | 114 m&#xB2; | Condom&#xED;nio: R$ 1300 | 2 vagas</td> </tr> <tr> <td>http://rj.olx.com.br/rio-de-janeiro-e-regiao/imoveis/apartamento-copacabana-3-quartos-270989551</td> <td>Apartamento Copacabana, 3 quartos</td> <td>3300</td> <td>Rio de Janeiro</td> <td>Copacabana</td> <td>3 quartos | 98 m&#xB2; | Condom&#xED;nio: R$ 979</td> </tr> </tbody>
</table> <p>Agora podemos partir para a limpeza da coluna de adicionais. Primeiramente, vamos ver quantos an&#xFA;ncios possuem as quatro vari&#xE1;veis adicionais:</p> <figure class="highlight"><pre><code class="language-r"><span class="c1"># substituir quartos por quarto
</span><span class="n">df</span><span class="o">$</span><span class="n">adicional</span><span class="w"> </span><span class="o">%&lt;&gt;%</span><span class="w"> </span><span class="n">str_replace_all</span><span class="p">(</span><span class="s2">&quot;quartos&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;quarto&quot;</span><span class="p">)</span><span class="w">
</span><span class="n">df</span><span class="w"> </span><span class="o">%&lt;&gt;%</span><span class="w"> </span><span class="n">mutate</span><span class="p">(</span><span class="w"> </span><span class="n">tem_quarto</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str_detect</span><span class="p">(</span><span class="n">adicional</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;quarto&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">tem_area</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str_detect</span><span class="p">(</span><span class="n">adicional</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;m&#xB2;&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">tem_taxa</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str_detect</span><span class="p">(</span><span class="n">adicional</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Condom&#xED;nio&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">tem_garagem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str_detect</span><span class="p">(</span><span class="n">adicional</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;vaga&quot;</span><span class="p">)</span><span class="w">
</span><span class="p">)</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">round</span><span class="p">(</span><span class="n">apply</span><span class="p">(</span><span class="n">df</span><span class="p">[,</span><span class="w"> </span><span class="m">7</span><span class="o">:</span><span class="m">10</span><span class="p">],</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="n">mean</span><span class="p">),</span><span class="w"> </span><span class="m">3</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">100</span><span class="w">
</span><span class="n">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span></code></pre></figure> <figure class="highlight"><pre><code class="language-text">## tem_quarto tem_area tem_taxa tem_garagem ## 100 94 94 80</code></pre></figure> <p>Assim, 100% dos apartamentos (dessa amostra de 50 apartamentos) t&#xEA;m informa&#xE7;&#xE3;o sobre a quantidade de quartos, 94% sobre &#xE1;rea, 94% informam a taxa de condom&#xED;nio e 80% t&#xEA;m vaga de garagem.</p> <p>&#xC9; necess&#xE1;rio usar o pacote <code class="highlighter-rouge">stringr</code> para observar a posi&#xE7;&#xE3;o dos termos que identificam a vari&#xE1;vel:</p>
<ul> <li>O substring &#x201C;quarto&#x201D; indica a presen&#xE7;a de informa&#xE7;&#xE3;o sobre quantidade de quartos;</li> <li>O substring &#x201C;Condom&#xED;nio: R$&#x201D; indica a presen&#xE7;a de informa&#xE7;&#xE3;o sobre taxa do condom&#xED;nio;</li> <li>O substring &#x201C;m&#xB2;&#x201D; indica a presen&#xE7;a de informa&#xE7;&#xE3;o sobre &#xE1;rea;</li> <li>O substring &#x201C;vaga&#x201D; indica a presen&#xE7;a de informa&#xE7;&#xE3;o sobre vagas de garagem.</li>
</ul> <p>O desafio aqui &#xE9; criar colunas adicionais para cada uma dessas categorias de informa&#xE7;&#xE3;o adicional. A seguir, eu comento linha a linha o procedimento necess&#xE1;rio para realizar essa tarefa, que &#xE9; basicamente o mesmo para as vari&#xE1;veis.</p> <figure class="highlight"><pre><code class="language-r"><span class="c1"># COLUNA DE QUANTIDADE DE QUARTOS
# Quarto: pegar posicao inicial e final do string quarto
# Localizar trecho dentro do string referente a quartos
</span><span class="n">matriz_posicao</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">str_locate</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">adicional</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;quarto&quot;</span><span class="p">)</span><span class="w">
</span><span class="c1"># Voltar 2 posi&#xE7;&#xF5;es no string para pegar o n&#xFA;mero (ex: 2 quarto)
</span><span class="n">matriz_posicao</span><span class="p">[,</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">matriz_posicao</span><span class="p">[,</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">2</span><span class="w">
</span><span class="c1"># extrair string com posi&#xE7;&#xF5;es iniciais e finais
</span><span class="n">vetor_quartos</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">str_sub</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">adicional</span><span class="p">,</span><span class="w"> </span><span class="n">matriz_posicao</span><span class="p">[,</span><span class="m">1</span><span class="p">],</span><span class="w"> </span><span class="n">matriz_posicao</span><span class="p">[,</span><span class="m">2</span><span class="p">])</span><span class="w">
</span><span class="c1"># extrair apenas n&#xFA;mero (primeiro caractere do string) e converter para numeric
</span><span class="n">vetor_quartos</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">str_sub</span><span class="p">(</span><span class="n">vetor_quartos</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">
</span><span class="n">vetor_quartos</span><span class="w"> </span><span class="o">%&lt;&gt;%</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">()</span><span class="w">
</span><span class="c1"># adicionar ao data frame
</span><span class="n">df</span><span class="o">$</span><span class="n">qtd_quarto</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">vetor_quartos</span><span class="w"> </span><span class="c1"># Condominio
# retirar cifrao pra ficar mais facil
</span><span class="n">df</span><span class="o">$</span><span class="n">adicional</span><span class="w"> </span><span class="o">%&lt;&gt;%</span><span class="w"> </span><span class="n">str_replace_all</span><span class="p">(</span><span class="s2">&quot;\\$&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;S&quot;</span><span class="p">)</span><span class="w">
</span><span class="n">matriz_posicao</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">str_locate</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">adicional</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Condom&#xED;nio: RS &quot;</span><span class="p">)</span><span class="w">
</span><span class="c1"># mover cinco posicoes para pegar algarismos ap&#xF3;s o RS
</span><span class="n">vetor_taxa</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">str_sub</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">adicional</span><span class="p">,</span><span class="w"> </span><span class="n">matriz_posicao</span><span class="p">[,</span><span class="w"> </span><span class="m">2</span><span class="p">],</span><span class="w"> </span><span class="n">matriz_posicao</span><span class="p">[,</span><span class="w"> </span><span class="m">2</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">4</span><span class="p">)</span><span class="w">
</span><span class="c1"># extrair apenas numeros
</span><span class="n">vetor_taxa</span><span class="w"> </span><span class="o">%&lt;&gt;%</span><span class="w"> </span><span class="n">parse_number</span><span class="p">()</span><span class="w">
</span><span class="c1"># vendo se funcionou
</span><span class="n">data.frame</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">adicional</span><span class="p">,</span><span class="w"> </span><span class="n">vetor_taxa</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">head</span><span class="p">(</span><span class="m">20</span><span class="p">)</span></code></pre></figure> <figure class="highlight"><pre><code class="language-text">## df.adicional vetor_taxa
## 1 1 quarto | 50 m&#xB2; | Condom&#xED;nio: RS 250 | 1 vaga 250
## 2 1 quarto | 42 m&#xB2; | Condom&#xED;nio: RS 390 | 1 vaga 390
## 3 3 quarto | 82 m&#xB2; | Condom&#xED;nio: RS 970 | 2 vagas 970
## 4 2 quarto | 80 m&#xB2; | Condom&#xED;nio: RS 300 | 2 vagas 300
## 5 3 quarto | 114 m&#xB2; | Condom&#xED;nio: RS 1300 | 2 vagas 1300
## 6 3 quarto | 98 m&#xB2; | Condom&#xED;nio: RS 979 979
## 7 2 quarto | 70 m&#xB2; | Condom&#xED;nio: RS 990 | 1 vaga 990
## 8 1 quarto | 60 m&#xB2; | Condom&#xED;nio: RS 1000 | 1 vaga 1000
## 9 2 quarto | 84 m&#xB2; | Condom&#xED;nio: RS 923 | 1 vaga 923
## 10 1 quarto | 50 m&#xB2; | Condom&#xED;nio: RS 250 | 1 vaga 250
## 11 4 quarto | 290 m&#xB2; | Condom&#xED;nio: RS 1000 | 1 vaga 1000
## 12 2 quarto | 60 m&#xB2; | Condom&#xED;nio: RS 501 501
## 13 1 quarto NA
## 14 2 quarto | 80 m&#xB2; | Condom&#xED;nio: RS 0 0
## 15 2 quarto | 96 m&#xB2; | Condom&#xED;nio: RS 1287 | 2 vagas 1287
## 16 3 quarto | 130 m&#xB2; | Condom&#xED;nio: RS 1100 | 2 vagas 1100
## 17 2 quarto | 70 m&#xB2; | Condom&#xED;nio: RS 700 | 1 vaga 700
## 18 1 quarto | 26 m&#xB2; | Condom&#xED;nio: RS 0 0
## 19 3 quarto | 115 m&#xB2; | Condom&#xED;nio: RS 653 | 2 vagas 653
## 20 2 quarto NA</code></pre></figure> <figure class="highlight"><pre><code class="language-r"><span class="c1"># Funcionou! Incorporar vetor ao data frame
</span><span class="n">df</span><span class="o">$</span><span class="n">taxa_condominio</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">vetor_taxa</span><span class="w"> </span><span class="c1"># &#xC1;rea
</span><span class="n">matriz_posicao</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">str_locate</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">adicional</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot; m&#xB2;&quot;</span><span class="p">)</span><span class="w">
</span><span class="c1"># voltar quatro posi&#xE7;&#xF5;es
</span><span class="n">vetor_area</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">str_sub</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">adicional</span><span class="p">,</span><span class="w"> </span><span class="n">matriz_posicao</span><span class="p">[,</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="n">matriz_posicao</span><span class="p">[,</span><span class="w"> </span><span class="m">1</span><span class="p">])</span><span class="w">
</span><span class="c1"># converter para numerico
</span><span class="n">vetor_area</span><span class="w"> </span><span class="o">%&lt;&gt;%</span><span class="w"> </span><span class="n">parse_number</span><span class="p">()</span><span class="w">
</span><span class="c1"># vendo se funcionou
</span><span class="n">data.frame</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">adicional</span><span class="p">,</span><span class="w"> </span><span class="n">vetor_area</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">head</span><span class="p">(</span><span class="m">20</span><span class="p">)</span></code></pre></figure> <figure class="highlight"><pre><code class="language-text">## df.adicional vetor_area
## 1 1 quarto | 50 m&#xB2; | Condom&#xED;nio: RS 250 | 1 vaga 50
## 2 1 quarto | 42 m&#xB2; | Condom&#xED;nio: RS 390 | 1 vaga 42
## 3 3 quarto | 82 m&#xB2; | Condom&#xED;nio: RS 970 | 2 vagas 82
## 4 2 quarto | 80 m&#xB2; | Condom&#xED;nio: RS 300 | 2 vagas 80
## 5 3 quarto | 114 m&#xB2; | Condom&#xED;nio: RS 1300 | 2 vagas 114
## 6 3 quarto | 98 m&#xB2; | Condom&#xED;nio: RS 979 98
## 7 2 quarto | 70 m&#xB2; | Condom&#xED;nio: RS 990 | 1 vaga 70
## 8 1 quarto | 60 m&#xB2; | Condom&#xED;nio: RS 1000 | 1 vaga 60
## 9 2 quarto | 84 m&#xB2; | Condom&#xED;nio: RS 923 | 1 vaga 84
## 10 1 quarto | 50 m&#xB2; | Condom&#xED;nio: RS 250 | 1 vaga 50
## 11 4 quarto | 290 m&#xB2; | Condom&#xED;nio: RS 1000 | 1 vaga 290
## 12 2 quarto | 60 m&#xB2; | Condom&#xED;nio: RS 501 60
## 13 1 quarto NA
## 14 2 quarto | 80 m&#xB2; | Condom&#xED;nio: RS 0 80
## 15 2 quarto | 96 m&#xB2; | Condom&#xED;nio: RS 1287 | 2 vagas 96
## 16 3 quarto | 130 m&#xB2; | Condom&#xED;nio: RS 1100 | 2 vagas 130
## 17 2 quarto | 70 m&#xB2; | Condom&#xED;nio: RS 700 | 1 vaga 70
## 18 1 quarto | 26 m&#xB2; | Condom&#xED;nio: RS 0 26
## 19 3 quarto | 115 m&#xB2; | Condom&#xED;nio: RS 653 | 2 vagas 115
## 20 2 quarto NA</code></pre></figure> <figure class="highlight"><pre><code class="language-r"><span class="c1"># Funcionou! Incorporar ao data frame
</span><span class="n">df</span><span class="o">$</span><span class="n">area_condominio</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">vetor_area</span><span class="w"> </span><span class="c1"># Garagem
</span><span class="n">matriz_posicao</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">str_locate</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">adicional</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot; vaga&quot;</span><span class="p">)</span><span class="w">
</span><span class="c1"># voltar quatro posi&#xE7;&#xF5;es
</span><span class="n">vetor_garagem</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">str_sub</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">adicional</span><span class="p">,</span><span class="w"> </span><span class="n">matriz_posicao</span><span class="p">[,</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="n">matriz_posicao</span><span class="p">[,</span><span class="w"> </span><span class="m">1</span><span class="p">])</span><span class="w">
</span><span class="c1"># converter para numerico
</span><span class="n">vetor_garagem</span><span class="w"> </span><span class="o">%&lt;&gt;%</span><span class="w"> </span><span class="n">readr</span><span class="o">::</span><span class="n">parse_number</span><span class="p">()</span><span class="w">
</span><span class="c1"># vendo se funcionou
</span><span class="n">data.frame</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">adicional</span><span class="p">,</span><span class="w"> </span><span class="n">vetor_garagem</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">head</span><span class="p">(</span><span class="m">20</span><span class="p">)</span></code></pre></figure> <figure class="highlight"><pre><code class="language-text">## df.adicional vetor_garagem
## 1 1 quarto | 50 m&#xB2; | Condom&#xED;nio: RS 250 | 1 vaga 1
## 2 1 quarto | 42 m&#xB2; | Condom&#xED;nio: RS 390 | 1 vaga 1
## 3 3 quarto | 82 m&#xB2; | Condom&#xED;nio: RS 970 | 2 vagas 2
## 4 2 quarto | 80 m&#xB2; | Condom&#xED;nio: RS 300 | 2 vagas 2
## 5 3 quarto | 114 m&#xB2; | Condom&#xED;nio: RS 1300 | 2 vagas 2
## 6 3 quarto | 98 m&#xB2; | Condom&#xED;nio: RS 979 NA
## 7 2 quarto | 70 m&#xB2; | Condom&#xED;nio: RS 990 | 1 vaga 1
## 8 1 quarto | 60 m&#xB2; | Condom&#xED;nio: RS 1000 | 1 vaga 1
## 9 2 quarto | 84 m&#xB2; | Condom&#xED;nio: RS 923 | 1 vaga 1
## 10 1 quarto | 50 m&#xB2; | Condom&#xED;nio: RS 250 | 1 vaga 1
## 11 4 quarto | 290 m&#xB2; | Condom&#xED;nio: RS 1000 | 1 vaga 1
## 12 2 quarto | 60 m&#xB2; | Condom&#xED;nio: RS 501 NA
## 13 1 quarto NA
## 14 2 quarto | 80 m&#xB2; | Condom&#xED;nio: RS 0 NA
## 15 2 quarto | 96 m&#xB2; | Condom&#xED;nio: RS 1287 | 2 vagas 2
## 16 3 quarto | 130 m&#xB2; | Condom&#xED;nio: RS 1100 | 2 vagas 2
## 17 2 quarto | 70 m&#xB2; | Condom&#xED;nio: RS 700 | 1 vaga 1
## 18 1 quarto | 26 m&#xB2; | Condom&#xED;nio: RS 0 NA
## 19 3 quarto | 115 m&#xB2; | Condom&#xED;nio: RS 653 | 2 vagas 2
## 20 2 quarto NA</code></pre></figure> <figure class="highlight"><pre><code class="language-r"><span class="c1"># Funcionou! Incorporar ao data frame
</span><span class="n">df</span><span class="o">$</span><span class="n">garagem</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">vetor_garagem</span><span class="w"> </span><span class="c1"># Remover objetos desnecess&#xE1;rios
</span><span class="n">rm</span><span class="p">(</span><span class="n">matriz_posicao</span><span class="p">,</span><span class="w"> </span><span class="n">vetor_adicional</span><span class="p">,</span><span class="w"> </span><span class="n">vetor_area</span><span class="p">,</span><span class="w"> </span><span class="n">vetor_garagem</span><span class="p">,</span><span class="w"> </span><span class="n">vetor_quartos</span><span class="p">,</span><span class="w"> </span><span class="n">vetor_taxa</span><span class="p">)</span></code></pre></figure> <p>Vamos ver como ficou o data frame final</p> <figure class="highlight"><pre><code class="language-r"><span class="n">head</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">knitr</span><span class="o">::</span><span class="n">kable</span><span class="p">()</span></code></pre></figure> <table> <thead> <tr> <th>link</th> <th>titulo</th> <th>preco</th> <th>cidade</th> <th>bairro</th> <th>adicional</th> <th>tem_quarto</th> <th>tem_area</th> <th>tem_taxa</th> <th>tem_garagem</th> <th>qtd_quarto</th> <th>taxa_condominio</th> <th>area_condominio</th> <th>garagem</th> </tr> </thead> <tbody> <tr> <td>http://rj.olx.com.br/rio-de-janeiro-e-regiao/imoveis/village-pavuna-270991833</td> <td>Village pavuna</td> <td>400</td> <td>Rio de Janeiro</td> <td>Pavuna</td> <td>1 quarto | 50 m&#xB2; | Condom&#xED;nio: RS 250 | 1 vaga</td> <td>TRUE</td> <td>TRUE</td> <td>TRUE</td> <td>TRUE</td> <td>1</td> <td>250</td> <td>50</td> <td>1</td> </tr> <tr> <td>http://rj.olx.com.br/rio-de-janeiro-e-regiao/imoveis/excelente-apartamento-todo-reformado-na-freguesia-270535159</td> <td>Excelente apartamento todo reformado na Freguesia</td> <td>1500</td> <td>Rio de Janeiro</td> <td>Freguesia</td> <td>1 quarto | 42 m&#xB2; | Condom&#xED;nio: RS 390 | 1 vaga</td> <td>TRUE</td> <td>TRUE</td> <td>TRUE</td> <td>TRUE</td> <td>1</td> <td>390</td> <td>42</td> <td>1</td> </tr> <tr> <td>http://rj.olx.com.br/rio-de-janeiro-e-regiao/imoveis/excelente-apartamento-270991747</td> <td>Excelente Apartamento</td> <td>2000</td> <td>Rio de Janeiro</td> <td>Recreio Dos Bandeirantes</td> <td>3 quarto | 82 m&#xB2; | Condom&#xED;nio: RS 970 | 2 vagas</td> <td>TRUE</td> <td>TRUE</td> <td>TRUE</td> <td>TRUE</td> <td>3</td> <td>970</td> <td>82</td> <td>2</td> </tr> <tr> <td>http://rj.olx.com.br/rio-de-janeiro-e-regiao/imoveis/excelente-apartamento-270990414</td> <td>Excelente Apartamento</td> <td>1900</td> <td>Rio de Janeiro</td> <td>Recreio Dos Bandeirantes</td> <td>2 quarto | 80 m&#xB2; | Condom&#xED;nio: RS 300 | 2 vagas</td> <td>TRUE</td> <td>TRUE</td> <td>TRUE</td> <td>TRUE</td> <td>2</td> <td>300</td> <td>80</td> <td>2</td> </tr> <tr> <td>http://rj.olx.com.br/rio-de-janeiro-e-regiao/imoveis/barra-da-tijuca-cidade-jardim-empreendimento-reserva-do-parque-com-area-util-de-114-m-270988871</td> <td>Barra da Tijuca - Cidade Jardim, Empreendimento Reserva do Parque, com &#xE1;rea &#xFA;til de 114 m</td> <td>3500</td> <td>Rio de Janeiro</td> <td>Jacarepagu&#xE1;</td> <td>3 quarto | 114 m&#xB2; | Condom&#xED;nio: RS 1300 | 2 vagas</td> <td>TRUE</td> <td>TRUE</td> <td>TRUE</td> <td>TRUE</td> <td>3</td> <td>1300</td> <td>114</td> <td>2</td> </tr> <tr> <td>http://rj.olx.com.br/rio-de-janeiro-e-regiao/imoveis/apartamento-copacabana-3-quartos-270989551</td> <td>Apartamento Copacabana, 3 quartos</td> <td>3300</td> <td>Rio de Janeiro</td> <td>Copacabana</td> <td>3 quarto | 98 m&#xB2; | Condom&#xED;nio: RS 979</td> <td>TRUE</td> <td>TRUE</td> <td>TRUE</td> <td>FALSE</td> <td>3</td> <td>979</td> <td>98</td> <td>NA</td> </tr> </tbody>
</table> <h2 id="conclus&#xE3;o">Conclus&#xE3;o</h2> <p>No pr&#xF3;ximo post, analisaremos os dados obtidos aqui.</p> </article>
